{
    "id": "3719e6bb-82c0-4132-82bf-46e518d6128e",
    "scriptName": "–¢–≤–∏—Ç—Ç–µ—Ä",
    "findRegex": "/<twitter_card>\\s*\\[Char\\|(.*?)\\|(.*?)\\|(.*?)\\]\\s*\\[Meta\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\]\\s*\\[Stats\\|(.*?)\\|(.*?)\\|(.*?)\\]\\s*\\[Thought\\|(.*?)]\\s*\\[Modules\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\]\\s*\\[Replies\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\]\\s*\\[Media\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\|(.*?)\\]\\s*\\[Likes\\|(.*?)\\|(.*?)\\|(.*?)\\]\\s*<\\/twitter_card>/s",
    "replaceString": "```html\n<!DOCTYPE html>\n<html lang=\"zh\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"referrer\" content=\"no-referrer\">\n<meta http-equiv=\"Content-Security-Policy\" content=\"upgrade-insecure-requests\">\n<style>\n    @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&display=swap');\n\n    /* === –ë–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä === */\n    .tw-wrapper {\n        font-family: 'Montserrat', sans-serif;\n        width: 100%;\n        max-width: 480px;\n        margin: 5px auto;\n        border-radius: 2px;\n        background-color: #ffffff;\n        color: #222;\n        position: relative;\n        transition: background-color 0.4s ease, color 0.4s ease;\n        border: 1px solid #eee;\n        overflow: hidden;\n    }\n    .tw-wrapper.dark-mode {\n        background-color: #0f0f0f;\n        color: #d1d1d1;\n        border: 1px solid #222;\n    }\n\n    /* === –ü–æ–ª–æ—Å–∞ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è === */\n    details.tw-shell > summary {\n        list-style: none; cursor: pointer; text-align: center;\n        padding: 8px 0; opacity: 0.5; height: 10px; position: relative;\n    }\n    details.tw-shell > summary:hover { opacity: 1; }\n    details.tw-shell > summary::after {\n        content: \"‚Äî ‚äπ ‚Äî\"; font-family: 'Cinzel', serif; font-size: 10px;\n        letter-spacing: 2px; color: inherit; position: absolute;\n        top: 0; left: 50%; transform: translateX(-50%);\n    }\n    details.tw-shell[open] > summary::after { content: \"‚Äî √ó ‚Äî\"; }\n\n    /* === –ó–∞–≥–æ–ª–æ–≤–æ–∫ === */\n    .tw-banner {\n        height: 140px; background-size: cover; background-position: center;\n        background-image: url('https://files.catbox.moe/z5d38s.jpeg');\n        transition: background-image 0.5s ease; position: relative;\n    }\n    .tw-wrapper.dark-mode .tw-banner { background-image: url('https://files.catbox.moe/nrlfno.jpeg'); }\n    .tw-controls { position: absolute; top: 10px; right: 10px; z-index: 5; }\n    .tw-btn {\n        background: transparent; border: none; color: rgba(255,255,255,0.6);\n        font-size: 16px; cursor: pointer; padding: 5px;\n    }\n    .tw-btn:hover { color: #fff; transform: rotate(180deg); }\n\n    /* === –ü—Ä–æ—Ñ–∏–ª—å === */\n    .tw-profile { padding: 0 20px; position: relative; z-index: 2; }\n    .tw-avatar-container {\n        width: 70px; height: 70px; margin-top: -35px;\n        border-radius: 50%; border: 3px solid #ffffff;\n        position: relative; cursor: help; z-index: 2;\n    }\n    .tw-avatar { width: 100%; height: 100%; border-radius: 50%; background-size: cover; background-position: center; }\n    .tw-wrapper.dark-mode .tw-avatar-container { border-color: #0f0f0f; }\n\n    /* Secret Bubble */\n    .tw-secret-bubble {\n        position: absolute; bottom: 80px; left: 5px;\n        background: #f5f5f5; color: #333;\n        padding: 10px 14px; border-radius: 2px; font-size: 11px;\n        width: 180px; opacity: 0; pointer-events: none;\n        transform: translateY(10px) scale(0.95); transition: all 0.4s;\n        border: 1px solid #e0e0e0; z-index: 10;\n    }\n    .tw-wrapper.dark-mode .tw-secret-bubble { background: #e0e0e0; color: #111; border: none; }\n    .tw-secret-bubble::after {\n        content: ''; position: absolute; bottom: -6px; left: 20px;\n        border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 6px solid #f5f5f5;\n    }\n    .tw-wrapper.dark-mode .tw-secret-bubble::after { border-top-color: #e0e0e0; }\n    .tw-secret-bubble.show { opacity: 1; transform: translateY(0) scale(1); }\n\n    /* Texts & Stats */\n    .tw-names { margin-top: 8px; display: flex; justify-content: space-between; align-items: flex-end; }\n    .tw-display-name { font-family: 'Cinzel', serif; font-size: 16px; font-weight: 700; letter-spacing: 1px; }\n    .tw-handle { font-family: 'Montserrat', sans-serif; color: #888; font-size: 11px; }\n    .tw-meta-row { display: flex; gap: 15px; margin: 15px 0 10px; color: #666; font-size: 11px; opacity: 0.8; }\n    .tw-stats-grid { display: flex; gap: 15px; margin: 15px 0; }\n    .tw-stat-item { flex: 1; }\n    .tw-stat-label { font-size: 12px; color: #444; display: flex; justify-content: space-between; margin-bottom: 4px; font-family: monospace; }\n    .tw-stat-bar { background: rgba(0,0,0,0.05); height: 2px; width: 100%; }\n    .tw-stat-fill { height: 100%; }\n    .fill-love { background: #444; width: 0%; }\n    .fill-lust { background: #888; width: 0%; }\n    .tw-wrapper.dark-mode .tw-handle, .tw-wrapper.dark-mode .tw-meta-row { color: #888; }\n    .tw-wrapper.dark-mode .tw-stat-label { color: #999; }\n    .tw-wrapper.dark-mode .tw-stat-bar { background: rgba(255,255,255,0.1); }\n    .tw-wrapper.dark-mode .fill-love { background: #ccc; }\n    .tw-wrapper.dark-mode .fill-lust { background: #666; }\n\n    /* === –í–∫–ª–∞–¥–∫–∏ === */\n    .tw-tabs { display: flex; margin-top: 15px; border-bottom: 1px solid rgba(0,0,0,0.05); }\n    .tw-wrapper.dark-mode .tw-tabs { border-color: rgba(255,255,255,0.05); }\n    .tw-tab { flex: 1; text-align: center; padding: 10px 0; font-size: 18px; color: #ccc; cursor: pointer; transition: color 0.3s; }\n    .tw-wrapper.dark-mode .tw-tab { color: #333; }\n    .tw-tab.active { color: #222; }\n    .tw-wrapper.dark-mode .tw-tab.active { color: #eee; }\n\n    /* === –ö–æ–Ω—Ç–µ–Ω—Ç === */\n    .tw-content { padding: 20px; font-size: 12px; line-height: 1.6; min-height: 100px; position: relative; }\n    .tw-hidden-pane { display: none; }\n    .tw-active-pane { display: block; animation: fadeIn 0.4s; }\n    @keyframes fadeIn { from { opacity: 0; transform: translateY(3px); } to { opacity: 1; transform: translateY(0); } }\n\n    .tw-list-item { padding: 5px 0; border-bottom: 1px solid rgba(0,0,0,0.03); }\n    .tw-wrapper.dark-mode .tw-list-item { border-color: rgba(255,255,255,0.03); }\n    .tw-list-item:last-child { border: none; }\n    .tw-item-head { font-weight: 600; font-size: 12px; }\n    .tw-item-sub { color: #888; font-size: 10px; }\n    .tw-wrapper.dark-mode .tw-item-sub { color: #555; }\n\n    /* === UI –ø–æ–∏—Å–∫–∞ === */\n    .tw-music-search {\n        display: flex; gap: 5px; margin-bottom: 10px; align-items: center;\n        background: rgba(0,0,0,0.05); border-radius: 2px; padding-right: 5px;\n    }\n    .tw-wrapper.dark-mode .tw-music-search { background: rgba(255,255,255,0.1); }\n    .tw-search-input {\n        flex: 1; border: none; background: transparent; padding: 6px 10px;\n        font-size: 11px; color: #333; font-family: inherit; outline: none;\n    }\n    .tw-wrapper.dark-mode .tw-search-input { color: #ddd; }\n    .tw-search-btn {\n        border: none; background: transparent; cursor: pointer; color: #666; font-size: 14px;\n        padding: 0 4px; display: flex; align-items: center; justify-content: center;\n    }\n    #clear-search-btn { font-size: 12px; opacity: 0.7; }\n    #clear-search-btn:hover { opacity: 1; color: #e0245e; }\n    .tw-wrapper.dark-mode .tw-search-btn { color: #aaa; }\n\n    /* Modal */\n    .tw-modal-overlay {\n        position: absolute; top: 0; left: 0; width: 100%; height: 100%;\n        background: rgba(255,255,255,0.95); backdrop-filter: blur(5px);\n        z-index: 100; display: none; flex-direction: column; padding: 10px; box-sizing: border-box;\n    }\n    .tw-wrapper.dark-mode .tw-modal-overlay { background: rgba(15,15,15,0.95); }\n    .tw-modal-header {\n        display: flex; justify-content: space-between; align-items: center;\n        border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 8px; margin-bottom: 8px;\n    }\n    .tw-wrapper.dark-mode .tw-modal-header { border-color: rgba(255,255,255,0.1); }\n    .tw-modal-close { cursor: pointer; font-size: 16px; font-weight: bold; padding: 0 5px; }\n    .tw-results-list { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 4px; }\n    .tw-result-item {\n        padding: 8px; border-radius: 4px; cursor: pointer; background: rgba(0,0,0,0.03); transition: 0.2s;\n    }\n    .tw-wrapper.dark-mode .tw-result-item { background: rgba(255,255,255,0.05); }\n    .tw-result-item:hover { background: rgba(0,0,0,0.08); }\n    .tw-wrapper.dark-mode .tw-result-item:hover { background: rgba(255,255,255,0.1); }\n    .tw-res-title { font-weight: bold; font-size: 12px; }\n    .tw-res-sub { font-size: 10px; color: #666; display: flex; justify-content: space-between; }\n    .tw-wrapper.dark-mode .tw-res-sub { color: #999; }\n    .tw-src-badge { font-size: 9px; padding: 1px 4px; border-radius: 2px; background: #666; color: #fff; }\n\n    /* === Player Structure & Cover Art === */\n    .embedded-player {\n        margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(0,0,0,0.1);\n        position: relative;\n    }\n    .tw-wrapper.dark-mode .embedded-player { border-top-color: rgba(255,255,255,0.1); }\n\n    canvas.wave-canvas {\n        position: absolute; bottom: 0; left: 0; width: 100%; height: 80px;\n        z-index: 0; pointer-events: none; opacity: 0.5;\n        mask-image: linear-gradient(to top, black, transparent);\n    }\n\n    .player-container {\n        display: flex; gap: 12px; align-items: center; position: relative; z-index: 2; margin-bottom: 10px;\n    }\n    .player-cover {\n        width: 50px; height: 50px; border-radius: 6px; /* Square with slight radius */\n        background: #333 url('https://files.catbox.moe/k265vj.png') no-repeat center/cover;\n        flex-shrink: 0; border: 2px solid rgba(0,0,0,0.1);\n        /* No Rotation */\n    }\n    .tw-wrapper.dark-mode .player-cover { border-color: rgba(255,255,255,0.1); background-color:#111; }\n\n    .player-info-block { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 4px; }\n    .player-title-text { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: bold; font-size: 11px; }\n    .player-status-line { display: flex; justify-content: space-between; font-size: 10px; color: #888; }\n    .player-progress-track { height: 3px; background: rgba(0,0,0,0.1); width: 100%; cursor: pointer; position: relative; border-radius: 2px; }\n    .player-progress-fill { height: 100%; background: #444; width: 0%; transition: width 0.2s; border-radius: 2px; }\n    .tw-wrapper.dark-mode .player-progress-track { background: rgba(255,255,255,0.1); }\n    .tw-wrapper.dark-mode .player-progress-fill { background: #ccc; }\n\n    .player-controls-row { display: flex; align-items: center; justify-content: center; gap: 15px; margin-top: 5px; }\n    .ctrl-btn {\n        background: none; border: 1px solid rgba(0,0,0,0.1); border-radius: 50%;\n        width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;\n        cursor: pointer; color: #444; font-size: 11px; transition: all 0.2s;\n    }\n    .ctrl-btn.play-main { width: 34px; height: 34px; font-size: 14px; border-color: rgba(0,0,0,0.2); }\n    .tw-wrapper.dark-mode .ctrl-btn { border-color: rgba(255,255,255,0.2); color: #ccc; }\n    .ctrl-btn:hover { background: rgba(0,0,0,0.05); transform: scale(1.05); }\n\n    .player-notify { font-size: 9px; text-align: center; color: #888; height: 12px; overflow: hidden; margin-top: 2px; }\n\n    /* Lyrics Box */\n    .lyrics-box {\n        height: 80px !important; overflow-y: auto; margin-top: 5px; text-align: center;\n        font-size: 11px; color: #666; position: relative; z-index: 2;\n        scrollbar-width: none; mask-image: linear-gradient(transparent, black 15%, black 85%, transparent);\n        scroll-behavior: smooth;\n    }\n    .lyrics-box::-webkit-scrollbar { display: none; }\n    .tw-wrapper.dark-mode .lyrics-box { color: #888; }\n    .lyric-item {\n        min-height: 26px; display: flex; flex-direction: column; align-items: center; justify-content: center;\n        cursor: pointer; transition: background 0.2s; border-radius: 4px; padding: 2px 0;\n    }\n    .lyric-item:hover { background: rgba(0,0,0,0.05); }\n    .tw-wrapper.dark-mode .lyric-item:hover { background: rgba(255,255,255,0.05); }\n    .lyric-orig { max-width: 95%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; pointer-events: none; }\n    .lyric-trans { font-size: 10px; color: #999; margin-top: 1px; max-width: 95%; pointer-events: none; }\n    .lyric-item.active .lyric-orig { color: #000; font-weight: bold; transform: scale(1.05); }\n    .lyric-item.active .lyric-trans { color: #444; }\n    .tw-wrapper.dark-mode .lyric-item.active .lyric-orig { color: #fff; }\n    .tw-wrapper.dark-mode .lyric-item.active .lyric-trans { color: #aaa; }\n\n    .lyric-sync-row {\n        display: flex; justify-content: center; gap: 8px; margin-top: 4px;\n        opacity: 0.6; transition: opacity 0.3s; z-index: 2; position: relative;\n    }\n    .lyric-sync-row:hover { opacity: 1; }\n    .sync-btn {\n        font-size: 9px; padding: 2px 6px; border: 1px solid rgba(0,0,0,0.1); border-radius: 4px;\n        background: transparent; color: #666; cursor: pointer;\n    }\n    .tw-wrapper.dark-mode .sync-btn { border-color: rgba(255,255,255,0.1); color: #999; }\n    .sync-btn:hover { background: rgba(0,0,0,0.05); }\n\n    /* Playlist Items (Visible) */\n    .tw-music-list-item {\n        cursor: pointer; padding: 8px 5px; border-bottom: 1px solid rgba(0,0,0,0.03);\n        display: flex; justify-content: space-between; align-items: center;\n    }\n    .tw-wrapper.dark-mode .tw-music-list-item { border-color: rgba(255,255,255,0.03); }\n    .tw-music-list-item:hover { background: rgba(0,0,0,0.03); }\n    .tw-wrapper.dark-mode .tw-music-list-item:hover { background: rgba(255,255,255,0.05); }\n    .music-playing-indicator { font-size: 10px; color: #222; display: none; }\n    .tw-music-list-item.is-playing .music-playing-indicator { display: block; }\n    .tw-wrapper.dark-mode .tw-music-list-item.is-playing .music-playing-indicator { color: #fff; }\n\n</style>\n</head>\n<body>\n<details class=\"tw-shell\" open>\n<summary></summary>\n\n<div class=\"tw-wrapper dark-mode\">\n    <div class=\"tw-banner\">\n        <div class=\"tw-controls\"><button class=\"tw-btn\" onclick=\"this.closest('.tw-wrapper').classList.toggle('dark-mode')\">‚ùñ</button></div>\n    </div>\n    <div class=\"tw-profile\">\n        <div class=\"tw-avatar-container\" onclick=\"this.querySelector('.tw-secret-bubble').classList.toggle('show');\">\n            <div class=\"tw-secret-bubble\">$10</div>\n            <div class=\"tw-avatar char-avatar\"></div>\n        </div>\n        <div class=\"tw-names\"><div class=\"tw-display-name\">$1</div><div class=\"tw-handle\">$2</div></div>\n        <div class=\"tw-meta-row\"><div>‚åñ $6</div><div>‚óà $4</div><div>‚òæ $5</div><div>‚óá $7</div></div>\n        <div class=\"tw-stats-grid\">\n            <div class=\"tw-stat-item\"><div class=\"tw-stat-label\"><span>‚ô•</span><span>$8%</span></div><div class=\"tw-stat-bar\"><div class=\"tw-stat-fill fill-love\" style=\"width: $8%;\"></div></div></div>\n            <div class=\"tw-stat-item\"><div class=\"tw-stat-label\"><span>‚òÜ</span><span>$9%</span></div><div class=\"tw-stat-bar\"><div class=\"tw-stat-fill fill-lust\" style=\"width: $9%;\"></div></div></div>\n        </div>\n    </div>\n    <div class=\"tw-tabs\">\n        <div class=\"tw-tab active\" onclick=\"openTwTab(this, 'tweets')\">‚å¨</div>\n        <div class=\"tw-tab\" onclick=\"openTwTab(this, 'replies')\">‚óà</div>\n        <div class=\"tw-tab\" onclick=\"openTwTab(this, 'media')\">‚ô¨</div>\n        <div class=\"tw-tab\" onclick=\"openTwTab(this, 'likes')\">‚ô°</div>\n    </div>\n    <div class=\"tw-content\">\n        <!-- –ü–∞–Ω–µ–ª—å 1 -->\n        <div class=\"tw-pane tw-active-pane\" data-tab=\"tweets\">\n            <div class=\"tw-list-item\" style=\"border-left: 2px solid #ccc; padding-left: 10px; margin-bottom: 15px;\">\n                <div style=\"font-size: 10px; color: #999; margin-bottom: 5px;\">‚ú¶ PINNED</div>\n                <div style=\"font-size: 13px;\">$11</div>\n            </div>\n            <div style=\"margin: 15px 0 5px; font-size:10px; color:#555; letter-spacing:1px;\">/// TRENDS</div>\n            <div class=\"tw-list-item\"><div class=\"tw-item-head\">01 ¬∑ $12</div><div class=\"tw-item-sub\">$13</div></div>\n            <div class=\"tw-list-item\"><div class=\"tw-item-head\">02 ¬∑ $14</div><div class=\"tw-item-sub\">$15</div></div>\n            <div class=\"tw-list-item\"><div class=\"tw-item-head\">03 ¬∑ $16</div><div class=\"tw-item-sub\">$17</div></div>\n        </div>\n        <!-- –ü–∞–Ω–µ–ª—å 2 -->\n        <div class=\"tw-pane tw-hidden-pane\" data-tab=\"replies\">\n            <div class=\"tw-list-item\"><div class=\"tw-item-head\">‚åó $18 <span style=\"font-weight:300; opacity:0.6\">$19</span></div><div style=\"margin-top:3px; font-style: italic;\">‚Äú $20 ‚Äù</div></div>\n            <div class=\"tw-list-item\"><div class=\"tw-item-head\">‚åó $21 <span style=\"font-weight:300; opacity:0.6\">$22</span></div><div style=\"margin-top:3px; font-style: italic;\">‚Äú $23 ‚Äù</div></div>\n            <div class=\"tw-list-item\"><div class=\"tw-item-head\">‚åó $24 <span style=\"font-weight:300; opacity:0.6\">$25</span></div><div style=\"margin-top:3px; font-style: italic;\">‚Äú $26 ‚Äù</div></div>\n        </div>\n        <!-- –ü–∞–Ω–µ–ª—å 3: –ú–µ–¥–∏–∞ (–ü–ª–µ–µ—Ä) -->\n        <div class=\"tw-pane tw-hidden-pane\" data-tab=\"media\">\n            <div class=\"tw-modal-overlay\" id=\"search-modal\">\n                <div class=\"tw-modal-header\"><span style=\"font-size:12px; font-weight:bold;\">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</span><span class=\"tw-modal-close\" onclick=\"closeModal()\">‚úï</span></div>\n                <div class=\"tw-results-list\" id=\"search-results-list\"></div>\n            </div>\n            <div class=\"tw-music-search\">\n                <input type=\"text\" class=\"tw-search-input\" id=\"music-search-input\" placeholder=\"–ü–µ—Å–Ω—è –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å...\" onkeydown=\"if(event.key==='Enter') window.doSearch()\" oninput=\"window.toggleClearBtn()\">\n                <button class=\"tw-search-btn\" id=\"clear-search-btn\" onclick=\"window.clearSearch()\" style=\"display:none;\">‚úï</button>\n                <button class=\"tw-search-btn\" onclick=\"window.doSearch()\">üîç</button>\n            </div>\n            <!-- –í–∏–¥–∏–º—ã–π –ø–ª–µ–π–ª–∏—Å—Ç -->\n            <div id=\"playlist-container\">\n                <div class=\"tw-music-list-item\" data-name=\"$27\" data-artist=\"$28\" onclick=\"directPlay('$27', '$28')\">\n                    <div><div class=\"tw-item-head\">‚ô™ $27</div><div class=\"tw-item-sub\">$28</div></div>\n                    <div class=\"music-playing-indicator\">‚ñ∂</div>\n                </div>\n                <div class=\"tw-music-list-item\" data-name=\"$29\" data-artist=\"$30\" onclick=\"directPlay('$29', '$30')\">\n                    <div><div class=\"tw-item-head\">‚ô™ $29</div><div class=\"tw-item-sub\">$30</div></div>\n                     <div class=\"music-playing-indicator\">‚ñ∂</div>\n                </div>\n                <div class=\"tw-music-list-item\" data-name=\"$31\" data-artist=\"$32\" onclick=\"directPlay('$31', '$32')\">\n                    <div><div class=\"tw-item-head\">‚ô™ $31</div><div class=\"tw-item-sub\">$32</div></div>\n                     <div class=\"music-playing-indicator\">‚ñ∂</div>\n                </div>\n            </div>\n            <!-- –ü–ª–µ–µ—Ä -->\n            <div class=\"embedded-player\">\n                <canvas class=\"wave-canvas\"></canvas>\n                <div class=\"player-container\">\n                    <div class=\"player-cover\" id=\"player-art\"></div>\n                    <div class=\"player-info-block\">\n                        <div class=\"player-title-text\" id=\"player-title\">–ù–∞–∂–º–∏—Ç–µ Play</div>\n                        <div class=\"player-status-line\">\n                            <span id=\"player-artist\">-</span>\n                            <span id=\"player-time\">0:00 / 0:00</span>\n                        </div>\n                        <div class=\"player-progress-track\" id=\"prog-container\"><div class=\"player-progress-fill\" id=\"prog-bar\"></div></div>\n                    </div>\n                </div>\n                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->\n                <div class=\"player-ui\">\n                    <div class=\"player-controls-row\">\n                        <button class=\"ctrl-btn\" onclick=\"window.playPrev()\">|‚óÄ</button>\n                        <button class=\"ctrl-btn play-main\" id=\"btn-play-pause\">‚ñ∂</button>\n                        <button class=\"ctrl-btn\" onclick=\"window.playNext()\">‚ñ∂|</button>\n                    </div>\n                    <div class=\"player-notify\" id=\"player-msg\"></div>\n                    <div class=\"lyrics-box\" id=\"lyrics-ui-box\"><div class=\"lyric-item\"><div class=\"lyric-orig\">...</div></div></div>\n                    <div class=\"lyric-sync-row\">\n                        <button class=\"sync-btn\" onclick=\"window.adjSync(-0.5)\">–ó–∞–¥–µ—Ä–∂–∫–∞</button>\n                        <button class=\"sync-btn\" onclick=\"window.adjSync(0)\">–°–±—Ä–æ—Å</button>\n                        <button class=\"sync-btn\" onclick=\"window.adjSync(0.5)\">–°–ø–µ—à–∫–∞</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- –ü–∞–Ω–µ–ª—å 4 -->\n        <div class=\"tw-pane tw-hidden-pane\" data-tab=\"likes\">\n            <div class=\"tw-list-item\">‚ù¶ $33</div>\n            <div class=\"tw-list-item\">‚ù¶ $34</div>\n            <div class=\"tw-list-item\">‚ù¶ $35</div>\n        </div>\n    </div>\n</div>\n\n<script>\n    function openTwTab(element, tabName) {\n        const wrapper = element.closest('.tw-wrapper');\n        wrapper.querySelectorAll('.tw-tab').forEach(t => t.classList.remove('active'));\n        element.classList.add('active');\n        wrapper.querySelectorAll('.tw-pane').forEach(p => {\n            p.classList.remove('tw-active-pane', 'tw-hidden-pane');\n            p.classList.add(p.dataset.tab === tabName ? 'tw-active-pane' : 'tw-hidden-pane');\n        });\n        if(tabName==='media' && window.drawVis) requestAnimationFrame(window.drawVis);\n    }\n    window.closeModal = function() { document.getElementById('search-modal').style.display = 'none'; };\n\n    (function(){\n        const root = document.currentScript.parentElement;\n        const els = {\n            title: root.querySelector('#player-title'), artist: root.querySelector('#player-artist'),\n            time: root.querySelector('#player-time'), bar: root.querySelector('#prog-bar'),\n            track: root.querySelector('#prog-container'), btn: root.querySelector('#btn-play-pause'),\n            msg: root.querySelector('#player-msg'), lrcBox: root.querySelector('#lyrics-ui-box'),\n            searchIn: root.querySelector('#music-search-input'), modal: root.querySelector('#search-modal'),\n            resList: root.querySelector('#search-results-list'), clrBtn: root.querySelector('#clear-search-btn'),\n            cover: root.querySelector('#player-art'), playlistDiv: root.querySelector('#playlist-container')\n        };\n        const audio = new Audio(); audio.crossOrigin = \"anonymous\";\n        let currentLyrics = [], lyricOffset = 0, userScrolling = false, scrollTimer = null;\n        let playlist = [], currentIndex = -1;\n\n        // Populate Playlist from visible items\n        root.querySelectorAll('.tw-music-list-item').forEach(el => {\n             if(el.dataset.name && el.dataset.name !== '$27') { // Simple check to avoid template literal issues if not replaced\n                 playlist.push({ name: el.dataset.name, artist: el.dataset.artist, id: null, source: null });\n             }\n        });\n\n        const formatTime = t => `${Math.floor(t/60)}:${String(Math.floor(t%60)).padStart(2,'0')}`;\n        const notify = (msg) => { els.msg.textContent = msg; setTimeout(()=>els.msg.textContent='', 3000); };\n        window.toggleClearBtn = () => els.clrBtn.style.display = els.searchIn.value.length > 0 ? 'block' : 'none';\n        window.clearSearch = () => { els.searchIn.value = ''; els.clrBtn.style.display = 'none'; els.searchIn.focus(); };\n\n        window.adjSync = (val) => {\n            if(val===0) lyricOffset=0; else lyricOffset+=val;\n            notify(`–°–º–µ—â–µ–Ω–∏–µ: ${lyricOffset>0?'+':''}${lyricOffset.toFixed(1)}s`); syncLyrics(true);\n        };\n        const onUserInteraction = () => { userScrolling=true; clearTimeout(scrollTimer); scrollTimer=setTimeout(()=>userScrolling=false,3000); };\n        els.lrcBox.addEventListener('wheel', onUserInteraction); els.lrcBox.addEventListener('touchmove', onUserInteraction);\n\n        // Control Logic\n        els.btn.onclick = () => {\n            if(audio.paused && audio.src) { startPlay(); }\n            else if(!audio.paused) { audio.pause(); els.btn.textContent='‚ñ∂'; }\n            else if(playlist.length > 0) { window.playNext(); }\n        };\n        function startPlay() { audio.play(); els.btn.textContent='‚ùö‚ùö'; }\n\n        audio.ontimeupdate = () => {\n            if(!audio.duration) return;\n            els.bar.style.width = `${(audio.currentTime/audio.duration)*100}%`;\n            els.time.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;\n            syncLyrics();\n        };\n        audio.onended = () => { els.btn.textContent='‚ñ∂'; window.playNext(); };\n        els.track.onclick = (e) => {\n            if(!audio.duration) return;\n            const r = els.track.getBoundingClientRect();\n            audio.currentTime = audio.duration * ((e.clientX - r.left)/r.width);\n        };\n\n        // Playlist & Selection\n        const updateActiveItem = () => {\n            root.querySelectorAll('.tw-music-list-item').forEach(i => i.classList.remove('is-playing'));\n            if(currentIndex >= 0 && currentIndex < 3) { // Only highlight visible default playlist items\n                const visibleItems = root.querySelectorAll('.tw-music-list-item');\n                if(visibleItems[currentIndex] && (visibleItems[currentIndex].dataset.name === playlist[currentIndex].name)) {\n                     visibleItems[currentIndex].classList.add('is-playing');\n                }\n            }\n        };\n\n        window.playNext = () => { if(!playlist.length) return; currentIndex = (currentIndex + 1) % playlist.length; loadSong(playlist[currentIndex]); };\n        window.playPrev = () => { if(!playlist.length) return; currentIndex = (currentIndex - 1 + playlist.length) % playlist.length; loadSong(playlist[currentIndex]); };\n\n        window.directPlay = (s, a) => {\n            // Find in playlist or add\n            const idx = playlist.findIndex(i => i.name === s);\n            if(idx !== -1) { currentIndex = idx; loadSong(playlist[idx]); }\n            else {\n                 const item = { name: s, artist: a, id: null, source: null };\n                 playlist.unshift(item); currentIndex = 0; loadSong(item);\n            }\n        };\n\n        // VISUALIZER\n        const canvas = root.querySelector('.wave-canvas'); const ctx = canvas.getContext('2d');\n        let audioCtx, analyser, dataArray, srcNode, isInit=false, bands=[0,0,0];\n        window.drawVis = function() {\n            if(root.closest('.tw-wrapper').offsetParent === null) return;\n            requestAnimationFrame(window.drawVis);\n            const r = canvas.parentElement.getBoundingClientRect(); if(canvas.width!==r.width){ canvas.width=r.width; canvas.height=80; }\n            ctx.clearRect(0,0,canvas.width,canvas.height);\n            if(isInit && !audio.paused) {\n               analyser.getByteFrequencyData(dataArray);\n               let b=0,m=0,h=0; for(let i=0;i<10;i++)b+=dataArray[i]; for(let i=10;i<40;i++)m+=dataArray[i]; for(let i=40;i<100;i++)h+=dataArray[i];\n               bands[0]+=((b/10)-bands[0])*0.2; bands[1]+=((m/30)-bands[1])*0.2; bands[2]+=((h/60)-bands[2])*0.2;\n            } else { bands=bands.map(v=>v*0.9); }\n            const t=Date.now()*0.002;\n            [{c:'rgba(100,100,100,0.1)',a:bands[0]*0.2,s:t},{c:'rgba(150,150,150,0.1)',a:bands[1]*0.15,s:t*1.5},{c:'rgba(200,200,200,0.1)',a:bands[2]*0.1,s:t*2}].forEach(l=>{\n                ctx.beginPath(); ctx.fillStyle=l.c; ctx.moveTo(0,canvas.height);\n                for(let x=0;x<=canvas.width;x+=5) ctx.lineTo(x, canvas.height-l.a-Math.sin(x*0.02+l.s)*5);\n                ctx.lineTo(canvas.width,canvas.height); ctx.fill();\n            });\n        };\n        function initCtx() {\n            if(isInit) { if(audioCtx.state==='suspended') audioCtx.resume(); return; }\n            try {\n                const AC = window.AudioContext || window.webkitAudioContext;\n                audioCtx = new AC(); analyser = audioCtx.createAnalyser(); analyser.fftSize=256;\n                srcNode = audioCtx.createMediaElementSource(audio); srcNode.connect(analyser); analyser.connect(audioCtx.destination);\n                dataArray = new Uint8Array(analyser.frequencyBinCount); isInit=true; window.drawVis();\n            } catch(e){}\n        }\n\n        const API_BASE = 'https://music-api.gdstudio.xyz/api.php';\n        window.doSearch = async () => {\n            const q = els.searchIn.value.trim(); if(!q) return;\n            els.modal.style.display = 'flex'; els.resList.innerHTML = '<div style=\"text-align:center;color:#888;font-size:11px;padding:20px;\">–ü–æ–∏—Å–∫...</div>';\n            const results = [];\n            try {\n                const r1 = await fetch(`${API_BASE}?types=search&count=10&source=netease&name=${encodeURIComponent(q)}`).then(r=>r.json());\n                if(r1 && r1.length) r1.forEach(i => results.push({ name: i.name, artist: (i.artist||[]).join('/'), id: i.id, source: 'netease', provider: 'Netease', coverId: i.pic_id }));\n            } catch(e){}\n            try {\n                const r2 = await fetch(`https://api.vkeys.cn/v2/music/tencent?word=${encodeURIComponent(q)}`).then(r=>r.json());\n                if(r2 && r2.data) r2.data.forEach(i => results.push({ name: i.song, artist: i.singer, id: i.id, source: 'tencent', provider: 'QQ –ú—É–∑—ã–∫–∞', coverUrl: i.cover }));\n            } catch(e){}\n            els.resList.innerHTML = '';\n            if(!results.length) { els.resList.innerHTML = '<div style=\"text-align:center;color:#888;font-size:11px;\">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</div>'; return; }\n            results.forEach(i => {\n                const d = document.createElement('div'); d.className = 'tw-result-item';\n                d.innerHTML = `<div class=\"tw-res-title\">${i.name}</div><div class=\"tw-res-sub\"><span>${i.artist}</span><span class=\"tw-src-badge\">${i.provider}</span></div>`;\n                d.onclick = () => {\n                    els.modal.style.display='none';\n                    // Add result to playlist\n                    playlist.unshift(i); currentIndex=0; loadSong(i);\n                };\n                els.resList.appendChild(d);\n            });\n        };\n\n        const checkUrl = u => new Promise(r => { const t=new Audio(u); t.muted=true; let tm=setTimeout(()=>r(false),2500); t.oncanplay=()=>{clearTimeout(tm);r(true);}; t.onerror=()=>{clearTimeout(tm);r(false);}; });\n\n        async function loadSong(item) {\n            initCtx(); notify(`–ó–∞–≥—Ä—É–∑–∫–∞: ${item.name}...`); updateActiveItem();\n            els.title.textContent = item.name; els.artist.textContent = item.artist;\n            els.lrcBox.innerHTML = '<div class=\"lyric-item\"><div class=\"lyric-orig\">–ó–∞–≥—Ä—É–∑–∫–∞...</div></div>';\n            audio.pause(); els.btn.textContent = '...';\n            lyricOffset = 0; userScrolling=false;\n\n            // Resolve ID/Src if missing\n            if(!item.id) {\n                const q = `${item.name} ${item.artist}`;\n                try {\n                    const s = await fetch(`${API_BASE}?types=search&count=1&source=netease&name=${encodeURIComponent(q)}`).then(r=>r.json());\n                    if(s && s[0]) { item.id = s[0].id; item.source = 'netease'; item.coverId = s[0].pic_id; }\n                } catch(e){}\n            }\n\n            // Set Cover\n            els.cover.style.backgroundImage = `url('https://files.catbox.moe/k265vj.png')`; // –°–±—Ä–æ—Å\n            if(item.coverUrl) els.cover.style.backgroundImage = `url('${item.coverUrl}')`;\n            else if(item.coverId) {\n                fetch(`${API_BASE}?types=pic&id=${item.coverId}&source=${item.source}`).then(r=>r.json()).then(d=>{ if(d.url) els.cover.style.backgroundImage = `url('${d.url}')`; });\n            }\n\n            let finalUrl = null;\n            try {\n                if(item.source === 'netease') {\n                    let u = await fetch(`${API_BASE}?types=url&id=${item.id}&source=netease`).then(r=>r.json());\n                    if(u.url) finalUrl=u.url;\n                    if(!finalUrl || !(await checkUrl(finalUrl))) {\n                        const c = new AbortController(); setTimeout(()=>c.abort(),3000);\n                        const r = await fetch(`https://api.qijieya.cn/meting/?type=url&id=${item.id}`, {redirect:'follow', signal:c.signal});\n                        if(r.url && r.url.startsWith('http')) finalUrl=r.url;\n                    }\n                } else if(item.source === 'tencent') {\n                    let u = await fetch(`https://api.vkeys.cn/v2/music/tencent?id=${item.id}`).then(r=>r.json());\n                    if(u.data?.url) finalUrl=u.data.url;\n                }\n            } catch(e) {}\n\n            if(finalUrl && (await checkUrl(finalUrl))) {\n                audio.src = finalUrl; startPlay();\n                notify('–ò–≥—Ä–∞–µ—Ç'); fetchLyrics(item.id, item.source);\n            } else { notify('–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ'); els.btn.textContent='‚ñ∂'; }\n        }\n\n        async function fetchLyrics(id, src) {\n            currentLyrics = [];\n            try {\n                const r = await fetch(`${API_BASE}?types=lyric&id=${id}&source=${src}`).then(j=>j.json());\n                if(r.lyric) {\n                    const lrc = parseTime(r.lyric); const tlrc = r.tlyric ? parseTime(r.tlyric) : [];\n                    currentLyrics = lrc.map(line => { const tr = tlrc.find(t => Math.abs(t.t - line.t) < 0.6); return { t: line.t, txt: line.txt, tr: tr ? tr.txt : '' }; });\n                    els.lrcBox.innerHTML = '';\n                    currentLyrics.forEach(l => {\n                        const d = document.createElement('div'); d.className = 'lyric-item';\n                        d.innerHTML = `<div class=\"lyric-orig\">${l.txt}</div>${l.tr ? `<div class=\"lyric-trans\">${l.tr}</div>` : ''}`;\n                        d.onclick = () => { audio.currentTime = l.t; startPlay(); notify(\"–ü–µ—Ä–µ—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω\"); };\n                        els.lrcBox.appendChild(d);\n                    });\n                } else { els.lrcBox.innerHTML = '<div class=\"lyric-item\"><div class=\"lyric-orig\">–ú—É–∑—ã–∫–∞</div></div>'; }\n            } catch(e){ els.lrcBox.innerHTML = '<div class=\"lyric-item\"><div class=\"lyric-orig\">–ù–µ—Ç —Ç–µ–∫—Å—Ç–∞</div></div>'; }\n        }\n        function parseTime(txt) {\n            const res = []; txt.split('\\n').forEach(line => { const m = line.match(/\\[(\\d{2}):(\\d{2})\\.(\\d{2,3})\\](.*)/); if(m) res.push({t: parseInt(m[1])*60 + parseInt(m[2]) + parseInt(m[3])/1000, txt: m[4].trim()}); });\n            return res.filter(l => l.txt);\n        }\n\n        function syncLyrics(force = false) {\n            if(!currentLyrics.length) return;\n            const t = audio.currentTime + lyricOffset;\n            let idx = currentLyrics.findIndex(l => l.t > t) - 1;\n            if(idx < 0) idx = 0;\n            const lines = els.lrcBox.children;\n            for(let i=0; i<lines.length; i++) lines[i].classList.toggle('active', i===idx);\n            if((!userScrolling || force) && lines[idx]) {\n                const containerH = els.lrcBox.clientHeight; const itemOffset = lines[idx].offsetTop; const itemH = lines[idx].clientHeight;\n                els.lrcBox.scrollTo({ top: itemOffset - containerH/2 + itemH/2, behavior: 'smooth' });\n            }\n        }\n    })();\n</script>\n</details>\n\n</body>\n</html>\n```",
    "trimStrings": [],
    "placement": [
        1,
        2
    ],
    "disabled": true,
    "markdownOnly": true,
    "promptOnly": false,
    "runOnEdit": true,
    "substituteRegex": 0,
    "minDepth": null,
    "maxDepth": null
}